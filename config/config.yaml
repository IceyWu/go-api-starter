# Application Configuration
app:
  name: go-api-starter
  env: development  # development, production, test

# Server Configuration
server:
  host: localhost
  port: 9527
  mode: debug  # debug, release, test

# Database Configuration
database:
  driver: mysql  # sqlite, mysql
  # SQLite config
  path: ./data.db
  # MySQL config
  host: localhost
  port: 3306
  username: root
  password: "123456"
  dbname: go_api_starter
  charset: utf8mb4

# Log Configuration
log:
  level: debug  # debug, info, warn, error
  format: console  # console, json
  output: stdout  # stdout, file
  file_path: ./logs/app.log

# Redis Configuration
redis:
  enabled: false  # Enable Redis caching
  host: localhost
  port: 6379
  password: ""
  db: 0
  pool_size: 10
  min_idle_conns: 5
  max_retries: 3
  dial_timeout: 5s
  read_timeout: 3s
  write_timeout: 3s
  cluster_mode: false  # Enable Redis cluster mode
  cluster_addrs: []  # Cluster addresses, e.g., ["localhost:7000", "localhost:7001"]
  enable_fallback: true  # Fallback to memory cache when Redis unavailable

# OSS Configuration
oss:
  endpoint: your-bucket.oss-accelerate.aliyuncs.com  # OSS endpoint
  bucket: your-bucket  # OSS bucket name
  region: oss-cn-hangzhou  # OSS region
  access_key_id: ""  # Will be loaded from env
  access_key_secret: ""  # Will be loaded from env
  upload_dir: go_oss  # Upload directory in bucket
  base_path: uploads  # Base path for uploaded files (will be combined with upload_dir)
  domain: ""  # Custom domain (optional), e.g., https://cdn.example.com
  callback_url: ""  # Callback URL after upload (optional)
  max_file_size: 10485760  # Max file size in bytes (10MB)
  token_expire: 1800  # Token expire time in seconds (30 minutes)
  allowed_extensions: []  # 空数组表示允许所有文件类型
